!function(){var e="https://gate-evolution-cexiopay.dev.kube",n=new URL(e).origin,o="cpw"+(new Date).getTime().toString(),t=null,r=!1,d=null;function i(e){return e&&"[object Function]"==={}.toString.call(e)}function a(){window.console&&window.console.warn&&window.console.warn.apply(window.console,arguments)}function l(){var e=arguments[0];"object"==typeof e&&e instanceof URL||(e=new URL(e));var n=Array.prototype.slice.call(arguments);n.shift();var o=[];o=o.concat(e.pathname.split("/").filter(e=>!!e));for(var t=0;t<n.length;t++)o=o.concat(n[t].split("/").filter(e=>!!e));return e.pathname=o.join("/"),e}function s(){return t||((t=document.createElement("iframe")).setAttribute("allowtransparency","true"),t.style.display="none",t.style.border=0,t.style.position="fixed",t.style.top=0,t.style.left=0,t.style.height="100%",t.style.width="100%",t.style.zIndex="2147483647",t.id=o),t}function w(n){var o=s();if(d&&"none"!==o.style.display){if(d.gatewayId!==n.gatewayId||d.orderId!==n.orderId)throw Error("Widget already open for order '"+n.orderId+"', and gateway '"+n.gatewayId+"'.");a("widget.js: Widget already open for order '"+n.orderId+"', and gateway '"+n.gatewayId+"'.")}else{d=n,r||window.addEventListener("message",y,!1),console.log(`Allowed ${d.gatewayId}, ${d.orderId}`);var t,i,w=(t=d.gatewayId,i=d.orderId,l(e,t,i)).toString();o.src=w,document.getElementById(o.id)||window.document.body.appendChild(o)}}function c(e){!function(e){if(!d)return;var n=d;d=null;var o=s();if(o.style.display="none",window.document.body.removeChild(o),document.body.style.overflow="auto",n&&n.handlers.onEnter){e||(e={orderId:n.orderId,wasConfirmed:!1});try{n.handlers.onLeave(e)}catch(e){a("widget.js: An error was caught in onLeave handler for order '"+d.orderId+"'.",e)}}}(e)}function y(e){if(n===e.origin){var o=e.data;"LOADED"!==o.type?"WRITE_TO_CLIPBOARD"!==o.type?"HIDE"!==o.type||c({orderId:o.orderId,wasConfirmed:o.wasConfirmed}):o.content&&(navigator.clipboard?navigator.clipboard.writeText(o.content):a("widget.js: Access to clipboard is forbidden.")):function(){if(document.body.style.overflow="hidden",s().style.display="block",d&&d.handlers.onEnter)try{d.handlers.onEnter({orderId:d.orderId})}catch(e){a("widget.js: An error was caught in onEnter handler for order '"+d.orderId+"'.",e)}}()}}window.addEventListener("load",function n(){(function(){for(var n=l(e,"widget.js").toString(),o=l(e,"widget.min.js").toString(),t=!1,r=window.document.getElementsByTagName("script"),d=0;d<r.length;d++){var i=r[d];i.outerHTML&&i.outerHTML.indexOf&&(-1!==i.outerHTML.indexOf(n)||-1!==i.outerHTML.indexOf(o))&&(t=!0)}return t})()||a("widget.js: It looks like you may be loading CryptoPay widget.js in an unconvential way. We highly recommend that you load widget.js by adding '<script src=\""+l(e,"widget.min.js").toString()+"><\/script>' to your webpage. This will ensure that you get access to new features and product updates as they become available.");window.removeEventListener("load",n)}),void 0===window.CryptoPay&&(window.CryptoPay={}),window.CryptoPay.createWidget=function(e,n){if(!e)throw new Error("gatewayId is required and should not be empty string.");if(n&&n.onEnter&&!i(n.onEnter))throw new Error("options.onEnter should be a function.");if(n&&n.onLeave&&!i(n.onLeave))throw new Error("options.onLeave should be a function.");return{show:function(o){w({gatewayId:e,orderId:o,handlers:{onEnter:n&&n.onEnter?n.onEnter:void 0,onLeave:n&&n.onLeave?n.onLeave:void 0}})},hide:function(){c()}}}}();
//# sourceMappingURL=widget.min.js.map