!function(){var e="https://gate.pay-cex.io",o=new URL(e).origin,n="cpw"+(new Date).getTime().toString(),t=null,r=!1,d=null;function a(e){return e&&"[object Function]"==={}.toString.call(e)}function i(){window.console&&window.console.warn&&window.console.warn.apply(window.console,arguments)}function l(){var e=arguments[0];"object"==typeof e&&e instanceof URL||(e=new URL(e));var o=Array.prototype.slice.call(arguments);o.shift();var n=[];n=n.concat(e.pathname.split("/").filter(e=>!!e));for(var t=0;t<o.length;t++)n=n.concat(o[t].split("/").filter(e=>!!e));return e.pathname=n.join("/"),e}function s(){return t||((t=document.createElement("iframe")).setAttribute("allowtransparency","true"),t.style.display="none",t.style.border=0,t.style.position="fixed",t.style.top=0,t.style.left=0,t.style.height="100%",t.style.width="100%",t.style.zIndex="2147483647",t.id=n),t}function w(o){var n=s();if(d&&"none"!==n.style.display){if(d.gatewayId!==o.gatewayId||d.orderId!==o.orderId)throw Error("Widget already open for order '"+o.orderId+"', and gateway '"+o.gatewayId+"'.");i("widget.js: Widget already open for order '"+o.orderId+"', and gateway '"+o.gatewayId+"'.")}else{d=o,r||window.addEventListener("message",y,!1),console.log(`Allowed ${d.gatewayId}, ${d.orderId}`);var t,a,w=(t=d.gatewayId,a=d.orderId,l(e,t,a)).toString();n.src=w,document.getElementById(n.id)||window.document.body.appendChild(n)}}function c(e){!function(e){if(!d)return;var o=d;d=null;var n=s();if(n.style.display="none",window.document.body.removeChild(n),document.body.style.overflow="auto",o&&o.handlers.onEnter){e||(e={orderId:o.orderId,wasConfirmed:!1});try{o.handlers.onLeave(e)}catch(e){i("widget.js: An error was caught in onLeave handler for order '"+d.orderId+"'.",e)}}}(e)}function y(e){if(o===e.origin){var n=e.data;"LOADED"!==n.type?"WRITE_TO_CLIPBOARD"!==n.type?"HIDE"!==n.type||c({orderId:n.orderId,wasConfirmed:n.wasConfirmed}):n.content&&(navigator.clipboard?navigator.clipboard.writeText(n.content):i("widget.js: Access to clipboard is forbidden.")):function(){if(document.body.style.overflow="hidden",s().style.display="block",d&&d.handlers.onEnter)try{d.handlers.onEnter({orderId:d.orderId})}catch(e){i("widget.js: An error was caught in onEnter handler for order '"+d.orderId+"'.",e)}}()}}window.addEventListener("load",function o(){(function(){for(var o=l(e,"widget.js").toString(),n=l(e,"widget.min.js").toString(),t=!1,r=window.document.getElementsByTagName("script"),d=0;d<r.length;d++){var a=r[d];a.outerHTML&&a.outerHTML.indexOf&&(-1!==a.outerHTML.indexOf(o)||-1!==a.outerHTML.indexOf(n))&&(t=!0)}return t})()||i("widget.js: It looks like you may be loading CryptoPay widget.js in an unconvential way. We highly recommend that you load widget.js by adding '<script src=\""+l(e,"widget.min.js").toString()+"><\/script>' to your webpage. This will ensure that you get access to new features and product updates as they become available.");window.removeEventListener("load",o)}),void 0===window.CryptoPay&&(window.CryptoPay={}),window.CryptoPay.createWidget=function(e,o){if(!e)throw new Error("gatewayId is required and should not be empty string.");if(o&&o.onEnter&&!a(o.onEnter))throw new Error("options.onEnter should be a function.");if(o&&o.onLeave&&!a(o.onLeave))throw new Error("options.onLeave should be a function.");return{show:function(n){w({gatewayId:e,orderId:n,handlers:{onEnter:o&&o.onEnter?o.onEnter:void 0,onLeave:o&&o.onLeave?o.onLeave:void 0}})},hide:function(){c()}}}}();
//# sourceMappingURL=widget.min.js.map