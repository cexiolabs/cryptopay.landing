!function(){var e="https://gate.pay-cex-test.net",n=new URL(e).origin,t="cpw"+(new Date).getTime().toString(),o=null,r=!1,d=null;function a(e){return e&&"[object Function]"==={}.toString.call(e)}function i(){window.console&&window.console.warn&&window.console.warn.apply(window.console,arguments)}function s(){var e=arguments[0];"object"==typeof e&&e instanceof URL||(e=new URL(e));var n=Array.prototype.slice.call(arguments);n.shift();var t=[];t=t.concat(e.pathname.split("/").filter(e=>!!e));for(var o=0;o<n.length;o++)t=t.concat(n[o].split("/").filter(e=>!!e));return e.pathname=t.join("/"),e}function l(){return o||((o=document.createElement("iframe")).setAttribute("allowtransparency","true"),o.style.display="none",o.style.border=0,o.style.position="fixed",o.style.top=0,o.style.left=0,o.style.height="100%",o.style.width="100%",o.style.zIndex="2147483647",o.id=t),o}function w(n){var t=l();if(d&&"none"!==t.style.display){if(d.gatewayId!==n.gatewayId||d.orderId!==n.orderId)throw Error("Widget already open for order '"+n.orderId+"', and gateway '"+n.gatewayId+"'.");i("widget.js: Widget already open for order '"+n.orderId+"', and gateway '"+n.gatewayId+"'.")}else{d=n,r||window.addEventListener("message",y,!1),console.log(`Allowed ${d.gatewayId}, ${d.orderId}`);var o,a,w=(o=d.gatewayId,a=d.orderId,s(e,o,a)).toString();t.src=w,document.getElementById(t.id)||window.document.body.appendChild(t)}}function c(e){!function(e){if(!d)return;var n=d;d=null;var t=l();if(t.style.display="none",window.document.body.removeChild(t),document.body.style.overflow="auto",n&&n.handlers.onEnter){e||(e={orderId:n.orderId,wasConfirmed:!1});try{n.handlers.onLeave(e)}catch(e){i("widget.js: An error was caught in onLeave handler for order '"+d.orderId+"'.",e)}}}(e)}function y(e){if(n===e.origin){var t=e.data;"LOADED"!==t.type?"WRITE_TO_CLIPBOARD"!==t.type?"HIDE"!==t.type||c({orderId:t.orderId,wasConfirmed:t.wasConfirmed}):t.content&&(navigator.clipboard?navigator.clipboard.writeText(t.content):i("widget.js: Access to clipboard is forbidden.")):function(){if(document.body.style.overflow="hidden",l().style.display="block",d&&d.handlers.onEnter)try{d.handlers.onEnter({orderId:d.orderId})}catch(e){i("widget.js: An error was caught in onEnter handler for order '"+d.orderId+"'.",e)}}()}}window.addEventListener("load",function n(){(function(){for(var n=s(e,"widget.js").toString(),t=s(e,"widget.min.js").toString(),o=!1,r=window.document.getElementsByTagName("script"),d=0;d<r.length;d++){var a=r[d];a.outerHTML&&a.outerHTML.indexOf&&(-1!==a.outerHTML.indexOf(n)||-1!==a.outerHTML.indexOf(t))&&(o=!0)}return o})()||i("widget.js: It looks like you may be loading CryptoPay widget.js in an unconvential way. We highly recommend that you load widget.js by adding '<script src=\""+s(e,"widget.min.js").toString()+"><\/script>' to your webpage. This will ensure that you get access to new features and product updates as they become available.");window.removeEventListener("load",n)}),void 0===window.CryptoPay&&(window.CryptoPay={}),window.CryptoPay.createWidget=function(e,n){if(!e)throw new Error("gatewayId is required and should not be empty string.");if(n&&n.onEnter&&!a(n.onEnter))throw new Error("options.onEnter should be a function.");if(n&&n.onLeave&&!a(n.onLeave))throw new Error("options.onLeave should be a function.");return{show:function(t){w({gatewayId:e,orderId:t,handlers:{onEnter:n&&n.onEnter?n.onEnter:void 0,onLeave:n&&n.onLeave?n.onLeave:void 0}})},hide:function(){c()}}}}();
//# sourceMappingURL=widget.min.js.map